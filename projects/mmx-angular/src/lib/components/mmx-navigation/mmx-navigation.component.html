<div class="fixed-top header">
    <div class="container custom_container">
      <div class="row align-items-center justify-content-center mb-2 mt-1">
        <div class="toggler col-2 px-4 d-md-none">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target=".navbarSupportedContent" aria-controls="navbarSupportedContent navbarDarkBg" aria-expanded="false" aria-label="Toggle navigation">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"/>
            </svg>
          </button>
        </div>
        <a class="navbar-brand col-8 col-md-4 my-2" routerLink="/">
          <img src="{{imagesURL}}/website_assets/schuco/schuco_logo.svg" class="d-inline-block align-top" alt="" />
        </a>
        <div class="col-2 d-md-none"></div>
        <mmx-search-bar class="col-12 col-md-8 px-4 px-md-0"></mmx-search-bar>
      </div>
  
    </div>
    <nav class="navbar navbar-expand-md text-left text-md-center py-0">
      <div class="container px-0 py-md-2">
        <div class="collapse collapse-horizontal navbar-collapse navbarSupportedContent" id="navbarSupportedContent">
          <ul class="navbar-nav">
            <li class="nav-item dropdown px-xl-2">
              <a class="nav-link"
              href="/"
              role="button"
              i18n="@@menu-home">Home</a>
            </li>
            <li class="nav-item dropdown px-xl-2">
              <a class="nav-link dropdown-toggle"
              href="#"
              id="navbarDropdown"
              role="button"
              data-bs-toggle="dropdown"
              aria-haspopup="true"
              aria-expanded="false"
              i18n="@@menu-new">New</a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" routerLink="/catalogue/indevelopment/1" routerLinkActive="active" i18n="@@indevelopment">In Development</a>
                <a class="dropdown-item" routerLink="/catalogue/comingsoon/1" routerLinkActive="active" i18n="@@comingsoon">Coming Soon</a>
                <a class="dropdown-item" routerLink="/catalogue/latestmodels/1" routerLinkActive="active" i18n="@@latestmodels">Latest Models</a>
              </div>
            </li>
            <li class="nav-item dropdown px-xl-2">
              <a class="nav-link dropdown-toggle"
              href="#"
              id="categoriesNavbarDropdown"
              role="button"
              data-bs-toggle="dropdown"
              aria-haspopup="true"
              aria-expanded="false"
              i18n="@@menu-categories">Categories</a>
              <div class="dropdown-menu flex multi-col row" aria-labelledby="categoriesNavbarDropdown">
                <div class="col-12 spinner-border mx-1" role="status" *ngIf="loading">
                  <span class="visually-hidden" i18n="@@loading">Loading...</span>
                </div>
                <div class="parent-category col-12 col-md-{{category.col}}" *ngFor="let category of categories; let i = index">
                  <div class="row nav-item dropdown">
                    <a class="nav-link dropdown-toggle d-block d-md-none"
                    (click)="stopPropagation($event)"
                    (touched)="stopPropagation($event)"
                    href="#"
                    data-bs-toggle="collapse"
                    [attr.data-bs-target]="'#categoriesNavbarDropdown' + i"
                    role="button"
                    aria-expanded="false"
                    [attr.aria-controls]="'categoriesNavbarDropdown' + i">{{category.name[locale]}}</a>
                    <span class="px-1 d-none d-md-block category-title">{{category.name[locale]}}</span>
  
                  </div>
                  <div class="child-categories collapse row d-md-flex px-3" [id]="'categoriesNavbarDropdown' + i">
                    <a *ngFor="let child of category.children"
                    class="col-12 col-md-{{category.col_child}} dropdown-child-item"
                    [routerLink]="child.url"
                    routerLinkActive="active">{{child.name[locale]}}</a>
                  </div>
                </div>
              </div>
            </li>
            <li class="nav-item px-xl-2">
              <a class="nav-link" routerLink="/buy" routerLinkActive="active" i18n="@@menu-where-to-buy">Buy</a>
            </li>
            <li class="nav-item px-xl-2">
              <a class="nav-link" routerLink="/social-wall" routerLinkActive="active" i18n="@@menu-social-wall">Social Wall</a>
            </li>
            <li class="nav-item px-xl-2">
              <a class="nav-link" routerLink="/about" routerLinkActive="active" i18n="@@menu-about">About Us</a>
            </li>
            <li class="nav-item px-xl-2">
              <a class="nav-link" routerLink="/contact" routerLinkActive="active" i18n="@@menu-contact">Contact</a>
            </li>
          </ul>
          <ul class="navbar-nav ms-auto">
            <li class="nav-item mx-1 mx-lg-0 py-2 py-md-0">
              <mmx-select-locale class="d-md-none" dropDirection="dropup"></mmx-select-locale>
              <mmx-select-locale class="d-none d-md-block"></mmx-select-locale>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </div>
  <!-- dark low opacity layer when menu toggles -->
  <div class="dark-layer collapse navbarSupportedContent" id="navbarDarkBg" data-bs-toggle="collapse" data-bs-target=".navbarSupportedContent" aria-controls="navbarSupportedContent navbarDarkBg" aria-expanded="false" aria-label="Toggle navigation" ></div>
  
